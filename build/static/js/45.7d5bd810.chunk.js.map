{"version":3,"sources":["Admin Panel/Admin-Panel-Pages/Assign-Merchant-To-User/AssignMerchToUser.js"],"names":["AssignMerchToUser","useState","merchList","setMerchList","userList","setUserList","userEmail","setUserEmail","merchantEmail","setmerchantEmail","useEffect","axios","get","then","res","sample","i","data","length","push","email","console","log","sampleUser","className","Group","isClearable","value","onChange","handleChangeUser","options","getOptionLabel","option","getOptionValue","htmlFor","isMulti","handleChange","onClick","e","preventDefault","patch","JSON","stringify","headers","code","alert","message","error"],"mappings":"4MA0LeA,UAnLW,WACzB,MAAkCC,mBAAS,IAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAAgCF,mBAAS,IAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAAkCJ,mBAAS,IAA3C,mBAAOK,EAAP,KAAkBC,EAAlB,KACA,EAA0CN,mBAAS,IAAnD,mBAAOO,EAAP,KAAsBC,EAAtB,KACAC,qBAAU,WACTC,IACEC,IADF,4DAEEC,MAAK,SAACC,GAEN,IADA,IAAMC,EAAS,GACNC,EAAI,EAAGA,EAAIF,EAAIG,KAAKC,OAAQF,IACpCD,EAAOI,KAAKL,EAAIG,KAAKD,GAAGI,OAEzBjB,EAAaY,GACbM,QAAQC,IAAI,eAEZ,IACHZ,qBAAU,WACTC,IACEC,IADF,wDAEEC,MAAK,SAACC,GAEN,IADA,IAAMS,EAAa,GACVP,EAAI,EAAGA,EAAIF,EAAIG,KAAKC,OAAQF,IACpCO,EAAWJ,KAAKL,EAAIG,KAAKD,GAAGI,OAE7Bf,EAAYkB,GACZF,QAAQC,IAAI,mBAEZ,IAEHD,QAAQC,IAAIpB,GA+DZ,OACC,6BACC,yBAAKsB,UAAU,sBACd,yBAAKA,UAAU,QACd,yBAAKA,UAAU,aACd,0BAAMA,UAAU,eAEf,yBAAKA,UAAU,OACd,yBAAKA,UAAU,YACd,kBAAC,IAAKC,MAAN,CAAYD,UAAU,OACrB,yBAAKA,UAAU,aACd,gDADD,IAC8B,6BAO7B,kBAAC,IAAD,CAGCE,aAAa,EAEbC,MAAO,CAACrB,GACRsB,SAAU,SAACD,GAAD,OArEI,SAACA,EAAOX,GAMhCK,QAAQC,IAAIK,GACZpB,EAAaoB,GA8DkBE,CAAiBF,IACtCG,QAAS1B,EACT2B,eAAgB,SAACC,GAAD,OAAYA,GAC5BC,eAAgB,SAACD,GAAD,OAAYA,QAMhC,yBAAKR,UAAU,YACd,kBAAC,IAAKC,MAAN,CAAYD,UAAU,OACrB,yBAAKA,UAAU,cACd,2BAAOU,QAAQ,IAAf,qBAgBA,kBAAC,IAAD,CACCC,SAAS,EACTX,UAAU,qBACVE,aAAa,EAEbC,MAAOnB,EACPoB,SAAU,SAACD,GAAD,OAhHA,SAACA,EAAOX,GAM5BK,QAAQC,IAAIK,GACZlB,EAAiBkB,GAyGcS,CAAaT,IAClCG,QAAS5B,EACT6B,eAAgB,SAACC,GAAD,OAAYA,GAC5BC,eAAgB,SAACD,GAAD,OAAYA,SAQjC,yBAAKR,UAAU,OACd,yBAAKA,UAAU,oBACd,4BACCa,QA1GQ,SAACC,GACjBA,EAAEC,iBAEF,IACC5B,IACE6B,MADF,iEAGEC,KAAKC,UAAU,CAAElC,gBAAeF,cAEhC,CACCqC,QAAS,CAAE,eAAgB,sBAI5B9B,MAAK,SAACC,GACNO,QAAQC,IAAI,MAAOR,EAAIG,MACD,MAAlBH,EAAIG,KAAK2B,KACZC,MAAM,0BAENA,MAAM/B,EAAIG,KAAK6B,SAEhBvC,EAAa,IACbE,EAAiB,OAElB,MAAOsC,GACJA,GACHF,MAAM,yBAEPxB,QAAQC,IAAIyB,GAEb1B,QAAQC,IAAI,gBAAiBd,GAC7Ba,QAAQC,IAAI,QAASpB,IA4EbsB,UAAU,iDAFX","file":"static/js/45.7d5bd810.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport Select from \"react-select\";\r\nimport DropdownMultiselect from \"react-multiselect-dropdown-bootstrap\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport API from \"../../../backend\";\r\n\r\nconst AssignMerchToUser = () => {\r\n\tconst [merchList, setMerchList] = useState([]);\r\n\tconst [userList, setUserList] = useState([]);\r\n\tconst [userEmail, setUserEmail] = useState(\"\");\r\n\tconst [merchantEmail, setmerchantEmail] = useState([]);\r\n\tuseEffect(() => {\r\n\t\taxios\r\n\t\t\t.get(`https://backend.klivepay.com/api/admin/get-merchant-list`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst sample = [];\r\n\t\t\t\tfor (let i = 0; i < res.data.length; i++) {\r\n\t\t\t\t\tsample.push(res.data[i].email);\r\n\t\t\t\t}\r\n\t\t\t\tsetMerchList(sample);\r\n\t\t\t\tconsole.log(\"sample\");\r\n\t\t\t});\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\taxios\r\n\t\t\t.get(`https://backend.klivepay.com/api/admin/get-user-list`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst sampleUser = [];\r\n\t\t\t\tfor (let i = 0; i < res.data.length; i++) {\r\n\t\t\t\t\tsampleUser.push(res.data[i].email);\r\n\t\t\t\t}\r\n\t\t\t\tsetUserList(sampleUser);\r\n\t\t\t\tconsole.log(\"sampleUser\");\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tconsole.log(merchList);\r\n\r\n\t// let options = e.target.value;\r\n\t// let value = [];\r\n\t// for (let i = 0; i < options.length; i++) {\r\n\t// \tif (options[i].selected) {\r\n\t// \t\tawait value.push(options[i].value);\r\n\t// \t}\r\n\t// \tconsole.log(options[i].selected);\r\n\tconst handleChange = (value, i) => {\r\n\t\t// let newFormValues = [...value];\r\n\t\t// newFormValues[i][e.target.name] = e.target.value;\r\n\r\n\t\t// const select = [value];\r\n\t\t// select.push(value);\r\n\t\tconsole.log(value);\r\n\t\tsetmerchantEmail(value);\r\n\t};\r\n\tconst handleChangeUser = (value, i) => {\r\n\t\t// let newFormValues = [...value];\r\n\t\t// newFormValues[i][e.target.name] = e.target.value;\r\n\r\n\t\t// const select = [value];\r\n\t\t// select.push(value);\r\n\t\tconsole.log(value);\r\n\t\tsetUserEmail(value);\r\n\t};\r\n\t// }\r\n\r\n\tconst onSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\ttry {\r\n\t\t\taxios\r\n\t\t\t\t.patch(\r\n\t\t\t\t\t`https://backend.klivepay.com/api/admin/assign-merchnat-to-user`,\r\n\t\t\t\t\tJSON.stringify({ merchantEmail, userEmail }),\r\n\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\r\n\t\t\t\t\t\t// withCredentials: true,\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconsole.log(\"res\", res.data);\r\n\t\t\t\t\tif (res.data.code === 200) {\r\n\t\t\t\t\t\talert(\"Asssigned sucessfully!\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\talert(res.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetUserEmail(\"\");\r\n\t\t\t\t\tsetmerchantEmail(\"\");\r\n\t\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\tif (error) {\r\n\t\t\t\talert(\"something went wrong!\");\r\n\t\t\t}\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t\tconsole.log(\"merchantEmail\", merchantEmail);\r\n\t\tconsole.log(\"merch\", merchList);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"col-12 grid-margin\">\r\n\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t<form className=\"form-sample\">\r\n\t\t\t\t\t\t\t{/* <p className=\"card-description\"> Personal info </p> */}\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t\t<Form.Group className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<label>Select User :</label> <br />\r\n\t\t\t\t\t\t\t\t\t\t\t{/* <Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Users Email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setUserEmail(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={userEmail}\r\n\t\t\t\t\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t// isMulti={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t// className=\"basic-multi-select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tisClearable={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t// defaultValue={userList}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={[userEmail]}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(value) => handleChangeUser(value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\toptions={userList}\r\n\t\t\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option}\r\n\t\t\t\t\t\t\t\t\t\t\t\tgetOptionValue={(option) => option}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t\t<Form.Group className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-sm-12 \">\r\n\t\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"\">Select Merchant :</label>\r\n\t\t\t\t\t\t\t\t\t\t\t{/* <select\r\n\t\t\t\t\t\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\t\t\t\t\t\taria-multiselectable\r\n\t\t\t\t\t\t\t\t\t\t\t\tmultiselect-serach=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={merchantEmail}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(value) => handleChange(value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control \"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata-live-search=\"true\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option>Select Merchant</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{merchList.length\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? merchList.map((item) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={item}>{item}</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"}\r\n\t\t\t\t\t\t\t\t\t\t\t</select> */}\r\n\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\tisMulti={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"basic-multi-select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tisClearable={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t// defaultValue={merchList}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={merchantEmail}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(value) => handleChange(value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\toptions={merchList}\r\n\t\t\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option}\r\n\t\t\t\t\t\t\t\t\t\t\t\tgetOptionValue={(option) => option}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{/* <DropdownMultiselect options={merchList} /> */}\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-6 mx-auto\">\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tonClick={onSubmit}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-success btn-lg btn-block rounded-pill\">\r\n\t\t\t\t\t\t\t\t\t\tAgree\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default AssignMerchToUser;\r\n"],"sourceRoot":""}