{"version":3,"sources":["Admin Panel/Admin-Panel-Pages/Admin-Dashboard/AdminDashboard.js"],"names":["AdminDashboard","history","useHistory","customer_id","localStorage","getItem","token","location","useLocation","useState","numberOfInvoices","setNumberOfInvoices","deviceStatus","setDeviceStatus","deviceId","setDeviceId","show","setShow","details","state","fetchInvoiceData","device","status","config","method","url","API","headers","Authorization","axios","then","response","data","count","catch","error","console","log","fetchDeviceData","device_id","useEffect","className","variant","style","display","onClick","onHide","dialogClassName","aria-labelledby","Header","Title","Body","width","borderRadius","class","fontSize","Footer","push","clear","background","borderRight","color"],"mappings":"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","file":"static/js/36.e6a93a74.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./dashboard.css\";\r\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\r\nimport \"font-awesome/css/font-awesome.min.css\";\r\nimport ToolkitProvider, { Search } from \"react-bootstrap-table2-toolkit\";\r\nimport { Button, Modal, Row, Col } from \"react-bootstrap\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport API from \"../../../backend\";\r\nimport { set } from \"lodash\";\r\n\r\nfunction AdminDashboard() {\r\n\tconst history=useHistory()\r\n  const customer_id = localStorage.getItem(\"customerId\");\r\n  const token = localStorage.getItem(\"token\");\r\n  const location = useLocation();\r\n  const [numberOfInvoices, setNumberOfInvoices] = useState(0);\r\n  const [deviceStatus, setDeviceStatus] = useState(\"\");\r\n  const [deviceId, setDeviceId] = useState(\"\");\r\n  const [show, setShow] = useState();\r\n\r\n  const details = location.state.details;\r\n\r\n  const fetchInvoiceData = async () => {\r\n    if (details.device.status === \"0\" || details.device === \"Not Assigned\") {\r\n      setShow(true);\r\n    }\r\n\r\n    try {\r\n      var config = {\r\n        method: \"get\",\r\n        url: `${API}/users/getScan/${customer_id}`,\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `${token}`,\r\n        },\r\n      };\r\n      axios(config)\r\n        .then(function (response) {\r\n          setNumberOfInvoices(response.data.count);\r\n          // console.log(response.data.notifications);\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  const fetchDeviceData = async () => {\r\n    try {\r\n      var config = {\r\n        method: \"get\",\r\n        url: `${API}/users/getAssignedDevice/${customer_id}`,\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `${token}`,\r\n        },\r\n      };\r\n      axios(config)\r\n        .then(function (response) {\r\n          setDeviceId(response.data.device.device_id);\r\n          setDeviceStatus(\r\n            response.data.device.status === \"1\" ? \"Active\" : \"Not Active\"\r\n          );\r\n          // console.log(response.data.notifications);\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchInvoiceData();\r\n    fetchDeviceData();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"adminDashboard\">\r\n      <Button\r\n        variant=\"primary\"\r\n        style={{ display: \"none\" }}\r\n        onClick={() => setShow(true)}\r\n      ></Button>\r\n      <Modal\r\n        show={show}\r\n        onHide={() => setShow(true)}\r\n        dialogClassName=\"modal-90w\"\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n      >\r\n        <Modal.Header className=\"bg-dark text-secondary\">\r\n          <Modal.Title className=\" text-center m-auto\">\r\n            {details?.device?.status === \"0\" && \"* Device Not Active\"} &nbsp;\r\n            &nbsp;\r\n            {details?.device === \"Not Assigned\"  && \"*Device Not Assigned\"}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Row className=\"text-center justify-content-center\">\r\n            <Col>\r\n              <p\r\n                className=\" text-center m-auto p-3 bg-secondary\"\r\n                style={{ width: \"17%\", borderRadius: \"50%\" }}\r\n              >\r\n                <i class=\"fa-solid fa-triangle-exclamation text-warning \" style={{fontSize:\"45px\"}}></i>\r\n              </p>\r\n              <h6 className=\"mt-4 text-dark  p-2\">\r\n                {details?.device?.status === \"0\" &&\r\n                  \"Your Device is not active. Kindly request admin to active your device\"}\r\n              </h6>\r\n              <h6 className=\"text-dark  p-2\">\r\n                {details?.device === \"Not Assigned\" &&\r\n                  \"You do not have any assigned device. Kindly request admin to assign \"}\r\n              </h6>\r\n            </Col>\r\n          </Row>\r\n        </Modal.Body>\r\n        <Modal.Footer className=\"bg-dark text-center\">\r\n          <Row className=\"text-center justify-content-center\">\r\n            <Col>\r\n              <button className=\"btn btn-secondary text-dark\" onClick={()=>{\r\n\t\t\t\thistory.push(\"/users/login\")\r\n\t\t\t\tlocalStorage.clear()\r\n\t\t\t  }}>\r\n\t\t\t\tLogout\r\n\t\t\t  </button>\r\n            </Col>\r\n          </Row>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\" col-xl-4 col-lg-6 col-md-6 col-sm-12 card-section\">\r\n            <div\r\n              className=\"top_stats_wrapper\"\r\n              style={{\r\n                background: \"#d7eaff\",\r\n                borderRight: \"5px solid #2196f3\",\r\n              }}\r\n            >\r\n              <div className=\"d-flex justify-content-between mt-2\">\r\n                <div>\r\n                  <h4 className=\"text-primary\">Number Of Invoices</h4>\r\n                  <h5 style={{ color: \"black\" }}>{numberOfInvoices}</h5>\r\n                </div>\r\n                <p\r\n                  className=\"text-white py-2 px-3 bg-primary\"\r\n                  style={{ fontSize: \"28px\", borderRadius: \"10px\" }}\r\n                >\r\n                  <i class=\"fa-solid fa-receipt\"></i>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\" col-xl-4 col-lg-6 col-md-6 col-sm-12 card-section\">\r\n            <div\r\n              className=\"top_stats_wrapper\"\r\n              style={{\r\n                background: \"#d4ffd4d4\",\r\n                borderRight: \"5px solid #19d895\",\r\n              }}\r\n            >\r\n              <div className=\"d-flex justify-content-between mt-2\">\r\n                <div>\r\n                  <h4 className=\"text-success\">Device Status</h4>\r\n                  <h5\r\n                    style={{\r\n                      color: deviceStatus === \"Active\" ? \"black\" : \"red\",\r\n                    }}\r\n                  >\r\n                    {deviceStatus}\r\n                  </h5>\r\n                </div>\r\n                <p\r\n                  className=\"text-white py-2 px-3 bg-success\"\r\n                  style={{ fontSize: \"28px\", borderRadius: \"10px\" }}\r\n                >\r\n                  <i class=\"fa-solid fa-chart-simple\"></i>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\" col-xl-4 col-lg-6 col-md-6 col-sm-12 card-section\">\r\n            <div\r\n              className=\"top_stats_wrapper\"\r\n              style={{\r\n                background: \"#ffdfdd99\",\r\n                borderRight: \"5px solid #ff6258\",\r\n              }}\r\n            >\r\n              <div className=\"d-flex justify-content-between mt-2\">\r\n                <div>\r\n                  <h4 className=\"text-danger\">Device ID</h4>\r\n                  <h5 style={{ color: \"black\" }}>{deviceId}</h5>\r\n                </div>\r\n                <p\r\n                  className=\"text-white py-2 px-3 bg-danger\"\r\n                  style={{ fontSize: \"28px\", borderRadius: \"10px\" }}\r\n                >\r\n                  <i class=\"fa-solid fa-mobile-screen-button\"></i>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default AdminDashboard;\r\n"],"sourceRoot":""}