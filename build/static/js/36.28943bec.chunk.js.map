{"version":3,"sources":["Admin Panel/Admin-Panel-Pages/Admin-Dashboard/AdminDashboard.js"],"names":["AdminDashboard","history","useHistory","customer_id","localStorage","getItem","token","location","useLocation","useState","numberOfInvoices","setNumberOfInvoices","deviceStatus","setDeviceStatus","deviceId","setDeviceId","show","setShow","details","state","fetchInvoiceData","undefined","device","status","console","log","config","method","url","API","headers","Authorization","axios","then","response","data","count","catch","error","fetchDeviceData","device_id","useEffect","className","variant","style","display","onClick","onHide","dialogClassName","aria-labelledby","Header","Title","Body","width","borderRadius","class","fontSize","Footer","push","clear","background","borderRight","color"],"mappings":"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","file":"static/js/36.28943bec.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./dashboard.css\";\r\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\r\nimport \"font-awesome/css/font-awesome.min.css\";\r\nimport ToolkitProvider, { Search } from \"react-bootstrap-table2-toolkit\";\r\nimport { Button, Modal, Row, Col } from \"react-bootstrap\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport API from \"../../../backend\";\r\nimport { set } from \"lodash\";\r\n\r\nfunction AdminDashboard() {\r\n\tconst history = useHistory();\r\n\tconst customer_id = localStorage.getItem(\"customerId\");\r\n\tconst token = localStorage.getItem(\"token\");\r\n\tconst location = useLocation();\r\n\tconst [numberOfInvoices, setNumberOfInvoices] = useState(0);\r\n\tconst [deviceStatus, setDeviceStatus] = useState(\"\");\r\n\tconst [deviceId, setDeviceId] = useState(\"\");\r\n\tconst [show, setShow] = useState();\r\n\r\n\tconst details = location?.state?.details;\r\n\r\n\t// const details = localStorage.getItem(\"data\");\r\n\t// const device = localStorage.getItem(\"device\");\r\n\t// console.log(\"Detials\", details, device);\r\n\t// console.log(\"DAATAAA\", JSON.parse(details));\r\n\tconst fetchInvoiceData = async () => {\r\n\t\tif (details !== undefined) {\r\n\t\t\tif (details.device.status === \"0\" || details.device === \"Not Assigned\") {\r\n\t\t\t\tsetShow(true);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// console.log(Object.keys(details).length);\r\n\t\tconsole.log(details);\r\n\r\n\t\ttry {\r\n\t\t\tvar config = {\r\n\t\t\t\tmethod: \"get\",\r\n\t\t\t\turl: `${API}/users/getScan/${customer_id}`,\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\tAuthorization: `${token}`,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t\taxios(config)\r\n\t\t\t\t.then(function (response) {\r\n\t\t\t\t\tsetNumberOfInvoices(response.data.count);\r\n\t\t\t\t\t// console.log(response.data.notifications);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n\tconst fetchDeviceData = async () => {\r\n\t\ttry {\r\n\t\t\tvar config = {\r\n\t\t\t\tmethod: \"get\",\r\n\t\t\t\turl: `${API}/users/getAssignedDevice/${customer_id}`,\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\tAuthorization: `${token}`,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t\taxios(config)\r\n\t\t\t\t.then(function (response) {\r\n\t\t\t\t\tsetDeviceId(response.data.device.device_id);\r\n\t\t\t\t\tsetDeviceStatus(\r\n\t\t\t\t\t\tresponse.data.device.status === \"1\" ? \"Active\" : \"Not Active\"\r\n\t\t\t\t\t);\r\n\t\t\t\t\t// console.log(response.data.notifications);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchInvoiceData();\r\n\t\tfetchDeviceData();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"adminDashboard\">\r\n\t\t\t<Button\r\n\t\t\t\tvariant=\"primary\"\r\n\t\t\t\tstyle={{ display: \"none\" }}\r\n\t\t\t\tonClick={() => setShow(true)}></Button>\r\n\t\t\t<Modal\r\n\t\t\t\tshow={show}\r\n\t\t\t\tonHide={() => setShow(true)}\r\n\t\t\t\tdialogClassName=\"modal-90w\"\r\n\t\t\t\taria-labelledby=\"contained-modal-title-vcenter\">\r\n\t\t\t\t<Modal.Header className=\"bg-dark text-secondary\">\r\n\t\t\t\t\t<Modal.Title className=\" text-center m-auto\">\r\n\t\t\t\t\t\t{details?.device?.status === \"0\" && \"* Device Not Active\"} &nbsp;\r\n\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t{details?.device === \"Not Assigned\" && \"*Device Not Assigned\"}\r\n\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Row className=\"text-center justify-content-center\">\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tclassName=\" text-center m-auto p-3 bg-secondary\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: \"17%\", borderRadius: \"50%\" }}>\r\n\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\tclass=\"fa-solid fa-triangle-exclamation text-warning \"\r\n\t\t\t\t\t\t\t\t\tstyle={{ fontSize: \"45px\" }}></i>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<h6 className=\"mt-4 text-dark  p-2\">\r\n\t\t\t\t\t\t\t\t{details?.device?.status === \"0\" &&\r\n\t\t\t\t\t\t\t\t\t\"Your Device is not active. Kindly request admin to active your device\"}\r\n\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t<h6 className=\"text-dark  p-2\">\r\n\t\t\t\t\t\t\t\t{details?.device === \"Not Assigned\" &&\r\n\t\t\t\t\t\t\t\t\t\"You do not have any assigned device. Kindly request admin to assign \"}\r\n\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer className=\"bg-dark text-center\">\r\n\t\t\t\t\t<Row className=\"text-center justify-content-center\">\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-secondary text-dark\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\thistory.push(\"/users/login\");\r\n\t\t\t\t\t\t\t\t\tlocalStorage.clear();\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tLogout\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\" col-xl-4 col-lg-6 col-md-6 col-sm-12 card-section\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"top_stats_wrapper\"\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tbackground: \"#d7eaff\",\r\n\t\t\t\t\t\t\t\tborderRight: \"5px solid #2196f3\",\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-between mt-2\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<h4 className=\"text-primary\">Number Of Invoices</h4>\r\n\t\t\t\t\t\t\t\t\t<h5 style={{ color: \"black\" }}>{numberOfInvoices}</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\tclassName=\"text-white py-2 px-3 bg-primary\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ fontSize: \"28px\", borderRadius: \"10px\" }}>\r\n\t\t\t\t\t\t\t\t\t<i class=\"fa-solid fa-receipt\"></i>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\" col-xl-4 col-lg-6 col-md-6 col-sm-12 card-section\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"top_stats_wrapper\"\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tbackground: \"#d4ffd4d4\",\r\n\t\t\t\t\t\t\t\tborderRight: \"5px solid #19d895\",\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-between mt-2\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<h4 className=\"text-success\">Device Status</h4>\r\n\t\t\t\t\t\t\t\t\t<h5\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: deviceStatus === \"Active\" ? \"black\" : \"red\",\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t{deviceStatus}\r\n\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\tclassName=\"text-white py-2 px-3 bg-success\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ fontSize: \"28px\", borderRadius: \"10px\" }}>\r\n\t\t\t\t\t\t\t\t\t<i class=\"fa-solid fa-chart-simple\"></i>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\" col-xl-4 col-lg-6 col-md-6 col-sm-12 card-section\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"top_stats_wrapper\"\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tbackground: \"#ffdfdd99\",\r\n\t\t\t\t\t\t\t\tborderRight: \"5px solid #ff6258\",\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-between mt-2\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<h4 className=\"text-danger\">Device ID</h4>\r\n\t\t\t\t\t\t\t\t\t<h5 style={{ color: \"black\" }}>{deviceId}</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\tclassName=\"text-white py-2 px-3 bg-danger\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ fontSize: \"28px\", borderRadius: \"10px\" }}>\r\n\t\t\t\t\t\t\t\t\t<i class=\"fa-solid fa-mobile-screen-button\"></i>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default AdminDashboard;\r\n"],"sourceRoot":""}